/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   ft_hi0bits.c                                       :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: tayamamo <tayamamo@student.42tokyo.jp>     +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2020/09/16 21:54:51 by tayamamo          #+#    #+#             */
/*   Updated: 2020/09/19 20:15:05 by tayamamo         ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "ft_gdtoaimp.h"

/*
** PURPOSE
** 		32 bit の左側からの bit の 0 の連続個数を数える
** INPUT
** 		uisigned int x;	: 解析される 32 bit の数
** RETURN
** 		左側に連続している 0 の個数
** NOTE
** 		0xffff0000		: 1111 1111 1111 1111 0000 0000 0000 0000
** 		0xff000000		: 1111 1111 0000 0000 0000 0000 0000 0000
** 		0xf0000000		: 1111 0000 0000 0000 0000 0000 0000 0000
** 		0xc0000000		: 1100 0000 0000 0000 0000 0000 0000 0000
** 		0x80000000		: 1000 0000 0000 0000 0000 0000 0000 0000
** 		0x40000000		: 0100 0000 0000 0000 0000 0000 0000 0000
*/

int	ft_hi0bits (unsigned int x)
{
	int k = 0;

	if (!(x & 0xffff0000))
	{
		k = 16;
		x <<= 16;
	}
	if (!(x & 0xff000000))
	{
		k += 8;
		x <<= 8;
	}
	if (!(x & 0xf0000000))
	{
		k += 4;
		x <<= 4;
	}
	if (!(x & 0xc0000000))
	{
		k += 2;
		x <<= 2;
	}
	if (!(x & 0x80000000))
	{
		k++;
		if (!(x & 0x40000000))
			return (32);
	}
	return (k);
}
